# Домашнее задание к занятию "6.6. Troubleshooting"

## Задача 1

Включить профайлер MongoDB  комндой `db.setProfilingLevel(2);`

Найдем списко процессов

`db.currentOp({"secs_running":{$gte: 180}});`

Останавливаем  `db.killOp(opid)`

Профилировать всё, что занимает более 5 секунд
db.setProfilingLevel(1, 5000);

При помощи команды `explain(‘executionStats’)` построить план запроса, если есть необходимость построить дополнительные индексы.

## Задача 2

Вероятнее всего выделенная память для хранилища закончилась.

## Задача 3

Поскольку проблема стала возникать не сразу, а при росте количества записей можно попытаться оптимизировать запросы с помощью индексов и шардирования.

## Задача 4

Вероятнее всего ошибка связана с недостатком памяти, можно попробовать решить через оптимизацию запросов.

---
